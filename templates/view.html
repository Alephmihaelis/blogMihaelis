

{% extends 'layout.html' %}



{% block article %}

<h2>{{ page.article['art_title'] }}</h2>
<div class="author-date">
    Por {{ page.article['sta_name'] }}
    <span> em {{ page.article['art_datebr'] }}</span>
</div>
{{ page.article['art_content'] | safe }}

<div class="comment-form" id="comments">
    
    <h3>Comente!</h3>
    <p class="required"><strong>Todos os campos devem ser preenchidos!</strong></p>

    <form action="/comment" method="post">
        <input type="hidden" name="artid" value="{{ page.article['art_id'] }}">

        <div class="comment-field">
            <label for="name">Nome</label>
            <input type="text" name="name" id="name" required minlength="3">
        </div>

        <div class="comment-field">
            <label for="email">E-mail</label>
            <input type="email" name="email" id="email" required>
        </div>

        <div class="comment-field">
        <label for="comment">Comentário</label>
        <textarea name="comment" id="comment" required minlength="3"></textarea>
        </div>

        <div>
            <button type="submit">Enviar</button>
            <small>&larr; Clique somente uma vez</small>
        </div>
    </form>
</div>

{% if page.total_comments == 0 %}

    <p class="no-comment">Não há nenhum comentário ainda?<br>Seja o primeiro a comentar!</p>

{% else %}

<div class="comment-list">
    <h3>{{ page.total_comments }} Comentários recentes</h3>

    <div class="comment-grid">
        {% for comment in page.comments %}
        <div class="comment-box">
            <small>Por <strong>{{ comment.com_author_name }}</strong> em {{ comment.com_datebr }}</small>
            <div>{{ comment.com_comment }}</div>
        </div>
        {% endfor %}
    </div>
</div>
{% endif %}

{% endblock %}





{% block aside %}

<h3>{{ page.article['sta_name'] }}</h3>

<div class="aside-author">

    <img src="{{ page.article['sta_image']}}" alt="{{ page.article['sta_name'] }}">

    <ul>
        <li>{{ page.article['sta_age'] }} anos</li>
        <li>{{ page.article['sta_pt_type'] }}</li>
    </ul>

    {{ page.article['sta_description'] }}

</div>

{% if page.articles != () %}

<h3> Artigos de {{ page.article['sta_first'] }} </h3>

<div class="aside-grid">

    {% for article in page.articles %}

    <div class="aside-article" onclick="location.href = '/view/{{ article.art_id }}'">
        <img src="{{ article['art_thumbnail'] }}" alt="{{ article['art_title'] }}">
        <div>{{ article['art_title'] }}</div>
    </div>

    {% endfor %}

</div>
{% endif %}



{% endblock %}